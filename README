This is the README file for LibNetBlock - a library which blocks
programs from accessing the network.

Author: Bogdan Drozdowski, bogdandr @ op . pl
License: GPLv3+

================================================================

The binary version of LibNetBlock is linked with the GNU C Library,
 licensed under the GNU LGPL:

Copyright (C) 1991,92,93,94,95,96,97,98,99,2000,2001,2002,2003,2004,2005,
 2006,2007 Free Software Foundation, Inc.

The GNU C Library is free software; you can redistribute it and/or modify
 it under the terms of the GNU Lesser General Public License as published
 by the Free Software Foundation; either version 2.1 of the License, or
 (at your option) any later version.

The GNU C Library is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public
 License for more details.

You should have received a copy of the GNU Lesser General Public License
 along with the GNU C Library; if not, write to the Free Software Foundation,
 Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA

================================================================

Requirements for compiling:

- a non-root account. Please, NEVER compile or 'make' anything as root.

- a working C compiler

- development package for the C library (like glibc-devel and glibc-headers)

  The sys/stat.h contains functions needed to check an executable's type.
  If it is a symbolic link, LibNetBlock will follow it.

  The dlfcn.h header contains functions needed to call the original functions.
  It has to have RTLD_NEXT defined. LibNetBlock wouldn't work without this, so
  it won't compile without this.

- libdl, the dynamic loading library, with its development package
  (unless the required functions are in the C library)

- the 'make' program

Type

	./configure

to configure the library for your system.

If you want to enable the public interface of LibNetBlock, configure the
 library with

        ./configure --enable-public-interface

 The public interface is compatible with SWIG (http://www.swig.org), so
 you can make native bindings to LibNetBlock for any supported language.

LibNetBlock allows some programs to be banned (not allowed to run under
 LibNetBlock, because they might need accesss to the network). One banning
 file is always supported - ${sysconfdir}/libnetblock.progban (${sysconfdir} is
 /usr/local/etc unless set otherwise during configure).

If you want to disable additional banning files pointed to by environment
 variables, configure the library with

	./configure --enable-environment=no

If you want to disable additional banning files in users' home directories,
 configure the library with

	./configure --enable-user-files=no

Type

	make

to compile the library.

Documentation comes complied (and can be copied right away), but can be
  changed and recompiled, if you have the 'makeinfo' program
  ('texinfo' package).

Type

	make install

to install the library.

NOTE: 'make install' is NOT recommended. Create and install an RPM package
 instead, if possible.

Type 'info libnetblock' (after installation) or 'info doc/libnetblock.info'
(before installation) to get help on installing and loading the library.

=======================================================

Building an RPM package (the old way):

1) copy the libnetblock.spec file to /usr/src/redhat/SPECS
2) copy the source package libnetblock-XX.tar.gz to /usr/src/redhat/SOURCES
3) type
	rpmbuild -ba /usr/src/redhat/SPECS/libnetblock.spec
4) get the RPMs from /usr/src/redhat/RPMS/i386 and /usr/src/redhat/SRPMS

Building an RPM package (the new way):

1) copy the libnetblock.spec file to $HOME/rpmbuild/SPECS
2) copy the source package libnetblock-XX.tar.gz to $HOME/rpmbuild/SOURCES
3) type
	rpmbuild -ba $HOME/rpmbuild/SPECS/libnetblock.spec
4) get the RPMs from $HOME/rpmbuild/RPMS/i386 and $HOME/rpmbuild/SRPMS
